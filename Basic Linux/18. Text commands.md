# Text Command

Linux cung cấp các tiện ích cho thao tác tập tin và văn bản:
- Hiển thị nội dung `cat` , `echo`
- Chỉnh sửa nội dung `sed`, `awk`
- Lọc nội dung `grep`

# Hiển thị nội dung

```cat``` hiển thị nội dung trong file từ đầu  xuống cuối file, và hiển thị toàn bộ text trong file
```
[root@localhost userlogin] cat /etc/resolv.conf
# Generated by NetworkManager
nameserver 1.1.1.1
[root@localhost userlogin] 


```
```tac``` hiển thị toàn bộ content của file nhưng nội dung hiển thị từ cuối file lên đầu file

```
root@localhost userlogin] tac /etc/resolv.conf
nameserver 1.1.1.1
# Generated by NetworkManager

```

# Chỉnh sửa nội dung

- `sed` là một trong những công cụ mạnh mẽ trong Linux giúp chúng ta có thể thực hiện các thao tác với văn bản như tìm kiếm, chỉnh sửa, xóa.. Khác với các text editor thông thường, `sed` chấp nhận văn bản đầu vào có thể là nội dung từ một file có trên hệ thống hoặc từ **standard input** hay **stdin**. Chính vì vậy `sed` còn được gọi là một **stream editor**.

```
[root@localhost userlogin] cat sed.txt
nguyen hung
i am hung
```
Tìm string "hung" thay thế thành string "kim"

```
[root@localhost ] sed -e "s/hung/kim/g" sed.txt
nguyen kim
i am kim
```

Sử dụng tùy chọn `i` trong biểu thức regular expression, nếu bạn muốn tìm kiếm và thay thế theo kiểu không phân biệt in hoa và in thường (nghĩa là cả `hung`, `Hung`, `HUNG`... đều sẽ được thay thế bởi `kim`

- Command  `awk`  được hiểu như bộ lọc khi làm việc với một file . Nó là một công cụ mạnh mẽ và là một trình thông dịch ngôn ngữ lập trình. Làm việc tốt với các dữ liệu theo dạng field (một mẩu dữ liệu riêng lẻ, đặc biệt là các cột ) và các ghi chép ( tập hợp các fields, đặc biệt là các dòng trong file ).

- Tập tin ví dụ
	```
	[root]cat awk.txt
	hung viet tuan
	nam anh son
	cuong duc tuan
	```
	 In ra cột đầu tiên của file
	```
	  [root]awk '{print $1}' awk.txt
	  hung
	  nam
	  cuong
	```
	 In các dòng có chứa kí tự "h"
	```
	[root]awk '/h/ {print }' awk.txt
	hung viet tuan
	nam anh son
	```
# Thao tác tới tập tin -  File manipulation
Command `sort` được sử dụng để sắp xếp lại các dòng của một tệp văn bản theo một tùy chọn
Lệnh  `uniq`  loại bỏ các dòng bị lặp trong file text.
Lệnh  `paste`  để gộp hai file theo các dòng (gộp từng dòng một với nhau)
Lệnh  `grep`  để tìm kiếm các từ khóa. 
* Ví dụ tìm trong file tất cả các chuỗi bắt đầu bằng ký tự  `t`
```
[root]cat awk.txt | grep ^h
hung viet tuan

```
*  Tìm số lần xuất hiện của chuỗi
```
[root]cat awk.txt | grep -c viet
1
```
* Hiển thị số dòng mà xuất hiện chuỗi
```
[root]cat awk.txt | grep -n viet
1:hung viet tuan
```
Các option bổ sung
* `- o` : chỉ hiện đúng chuỗi, không hiện toàn dòng
* `- i` : không phân biệt hoa , thường
*  `-f` : tìm kiếm trên nhiều file
* 
Command `tee` đơn giản là vừa đưa kết quả ra màn hình vừa đưa vào tệp tin đã chỉ định. Ví dụ:

Một số **Pattern** sử dụng trong lọc và tìm kiếm

| Pattern   | Matches|
|-----|------|
|*| Tất cả giá trị|
|g*  | tất cả giá trị trị bắt đầu băng "g" |
| b*.txt| Tất cả giá trị bắt đầu bằng 'b' , kết thúc bằng 'txt'|
|[abc]* | tất cả giá trị bắt đầu bằng  a,b,c|
